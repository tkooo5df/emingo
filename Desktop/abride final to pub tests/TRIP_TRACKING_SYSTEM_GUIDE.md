# ๐บ๏ธ ุฏููู ูุธุงู ุชุชุจุน ุงูุฑุญูุงุช ูุงูุณุงุฆููู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู ูุชูุงูู ูุชุชุจุน ุงูุฑุญูุงุช ูุงูุณุงุฆููู ุจุงุณุชุฎุฏุงู **Google Maps API**. ูุชูุญ ุงููุธุงู:
- โ ุชุชุจุน ูููุน ุงูุฑุญูุฉ ูู ุงูููุช ุงููุนูู
- โ ุนุฑุถ ุฌููุน ุงูุณุงุฆููู ุนูู ุฎุฑูุทุฉ ุชูุงุนููุฉ
- โ ุญุณุงุจ ุงููุณุงูุฉ ูุงูููุช ุงููุชุจูู
- โ ุชุญุฏูุซุงุช ุชููุงุฆูุฉ ูู 30 ุซุงููุฉ
- โ ูุงุฌูุฉ ุณููุฉ ุงูุงุณุชุฎุฏุงู ุจุงูุนุฑุจูุฉ

---

## ๐ Google Maps API Key

```
AIzaSyBvyaGOeUWJqjBnR2mHR0Ye9hbPJia3G5M
```

**ููุงู ุงูุชูููู:** `src/config/maps.ts`

---

## ๐ ุงููููุงุช ุงููููุดุฃุฉ

### 1. ูููุงุช ุงูุชูููู
- โ `src/config/maps.ts` - ุชูููู Google Maps API ูุงูุฅุนุฏุงุฏุงุช

### 2. ุงูุฎุฏูุงุช (Services)
- โ `src/services/locationTracking.ts` - ุฎุฏูุฉ ุชุชุจุน ุงูููุงูุน

### 3. ุงูุตูุญุงุช (Pages)
- โ `src/pages/TripTracking.tsx` - ุตูุญุฉ ุชุชุจุน ุงูุฑุญูุฉ
- โ `src/pages/DriversMap.tsx` - ุตูุญุฉ ุฎุฑูุทุฉ ุฌููุน ุงูุณุงุฆููู

### 4. ุงูููููุงุช (Components)
- โ `src/components/tracking/TrackingButton.tsx` - ุฃุฒุฑุงุฑ ุงูุชุชุจุน
- โ `src/components/home/MapSection.tsx` - ูุณู ุงูุฎุฑุงุฆุท ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ

### 5. ุงูุชุญุฏูุซุงุช
- โ `src/App.tsx` - ุฅุถุงูุฉ ุงููุณุงุฑุงุช ุงูุฌุฏูุฏุฉ
- โ `src/pages/Index.tsx` - ุฅุถุงูุฉ ูุณู ุงูุฎุฑุงุฆุท
- โ `src/hooks/useDatabase.ts` - ุฅุถุงูุฉ ุฏูุงู ุฌุฏูุฏุฉ

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ููุฑุงูุจ (Passenger):

#### 1. ุนุฑุถ ุฎุฑูุทุฉ ุฌููุน ุงูุณุงุฆููู:
```
ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ > ูุณู ุงูุฎุฑุงุฆุท > "ุงุณุชูุดู ุงูุฎุฑูุทุฉ"
ุฃู ูุจุงุดุฑุฉ: http://localhost:5173/drivers-map
```

**ุงูููุฒุงุช:**
- ๐ ุนุฑุถ ุฌููุน ุงูุณุงุฆููู ุงููุดุทูู
- ๐ ุจุญุซ ุนู ุณุงุฆู ูุนูู
- โก ููุชุฑุฉ ุงูุณุงุฆููู ุงููุชุงุญูู ููุท
- โน๏ธ ูุนูููุงุช ุชูุตูููุฉ ุนู ูู ุณุงุฆู
- โญ ุชููููุงุช ูุนุฏุฏ ุงูุฑุญูุงุช
- ๐ฏ ุงูููุฑ ุนูู ุงูุณุงุฆู ูุนุฑุถ ูููู ุงูุดุฎุตู

#### 2. ุชุชุจุน ุฑุญูุฉ ูุญุฌูุฒุฉ:
```
ููุญุฉ ุงูุชุญูู > ุญุฌูุฒุงุชู > ุฒุฑ "ุชุชุจุน ุงูุฑุญูุฉ"
```

**ูุง ุณุชุฑุงู:**
- ๐ ูููุน ุงูุณุงุฆู ุงูุญุงูู ูู ุงูููุช ุงููุนูู
- ๐ ุงููุณุงูุฉ ุงููุชุจููุฉ
- โฑ๏ธ ุงูููุช ุงูููุฏุฑ ูููุตูู
- ๐บ๏ธ ุฎุท ุงููุณุงุฑ ุนูู ุงูุฎุฑูุทุฉ
- ๐ ูุนูููุงุช ุงูุงุชุตุงู ุจุงูุณุงุฆู
- ๐ฐ ุชูุงุตูู ุงูุฑุญูุฉ ูุงูุฏูุน

### ููุณุงุฆู (Driver):

#### 1. ุชุชุจุน ูููุนู:
```
ููุญุฉ ุงูุชุญูู > ุฑุญูุงุชู > "ุจุฏุก ุงูุชุชุจุน"
```

**ุงูููุฒุงุช:**
- ๐ก ุชูุนูู ุชุชุจุน GPS
- ๐ ุชุญุฏูุซ ุงููููุน ุชููุงุฆูุงู
- ๐ฅ ุนุฑุถ ููุงูุน ุงูุฑูุงุจ
- ๐ฏ ุงูุชููู ุฅูู ููุงุท ุงูุงูุชูุงุท
- โน๏ธ ุฅููุงู ุงูุชุชุจุน ุนูุฏ ุงูุงูุชูุงุก

#### 2. ูุดุงูุฏุฉ ูููุน ุงูุฑุงูุจ:
```
ุฎูุงู ุงูุฑุญูุฉ ุงููุดุทุฉ > ุตูุญุฉ ุงูุชุชุจุน
```

**ูุง ุณุชุฑุงู:**
- ๐ค ูููุน ุงูุฑุงูุจ
- ๐ ููุทุฉ ุงูุงูุชูุงุท
- ๐ฏ ููุทุฉ ุงููุตูู
- ๐ ุงููุณุงูุฉ ุงููููุฉ
- ๐ ูุนูููุงุช ุงูุงุชุตุงู ุจุงูุฑุงูุจ

---

## ๐จ ุงููุงุฌูุงุช ุงูุฑุฆูุณูุฉ

### 1. ุตูุญุฉ ุฎุฑูุทุฉ ุงูุณุงุฆููู (`/drivers-map`)

**ุงูููููุงุช:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ ุฑุฌูุน    ุฎุฑูุทุฉ ุงูุณุงุฆููู    ๐ 5  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ ุงุจุญุซ ุนู ุณุงุฆู...  [ููุชุฑ ุงููุชุงุญูู]โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ ูุงุฆูุฉ โ  โ                     โ โ
โ โุงูุณุงุฆูููโ  โ      ุงูุฎุฑูุทุฉ       โ โ
โ โ       โ  โ                     โ โ
โ โ  ๐   โ  โ  ๐บ๏ธ  Google Maps   โ โ
โ โ  โญ   โ  โ                     โ โ
โ โโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ุงูุชูุงุตูู:**
- ูุงุฆูุฉ ุฌุงูุจูุฉ ุจุฌููุน ุงูุณุงุฆููู
- ุฎุฑูุทุฉ ุชูุงุนููุฉ ุชุธูุฑ ุงูููุงูุน
- ูุนูููุงุช ููุจุซูุฉ ุนูุฏ ุงูููุฑ ุนูู ุณุงุฆู
- ุฃุฒุฑุงุฑ ููุญุฌุฒ ูุนุฑุถ ุงูููู ุงูุดุฎุตู

### 2. ุตูุญุฉ ุชุชุจุน ุงูุฑุญูุฉ (`/trip-tracking`)

**ุงูููููุงุช:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ ุฑุฌูุน   ุชุชุจุน ุงูุฑุญูุฉ  [ุจุฏุก ุงูุชุชุจุน]โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ 50 km          โฑ๏ธ 45 ุฏูููุฉ     โ
โ  ุงููุณุงูุฉ ุงููุชุจููุฉ   ุงูููุช ุงูููุฏุฑ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ุชูุงุตูู ุงูุฑุญูุฉ                     โ
โ  ูู: ุบุฑุฏุงูุฉ  โ  ุฅูู: ุงูุฌุฒุงุฆุฑ      โ
โ  ุงูููุงุนุฏ: 3  โข  ุงููุจูุบ: 600 ุฏุฌ    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ูุนูููุงุช ุงูุณุงุฆู / ุงูุฑุงูุจ           โ
โ  ๐ ูุญูุฏ ุฃุญูุฏ  โข  โญ 4.8  โข  ๐    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ        ๐บ๏ธ Google Maps               โ
โ     (ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ)             โ
โ        ูุน ุฎุท ุงููุณุงุฑ                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 3. ูุณู ุงูุฎุฑุงุฆุท ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ

**ุงูุนุฑุถ:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   ๐บ๏ธ ุชุชุจุน ุฑุญูุงุชู ุนูู ุงูุฎุฑูุทุฉ       โ
โ                                      โ
โ  โโโโโโโโโโโโโโ  โโโโโโโโโโโโโโ    โ
โ  โ  ุฎุฑูุทุฉ     โ  โ   ุชุชุจุน     โ    โ
โ  โ  ุงูุณุงุฆููู  โ  โ   ุงูุฑุญูุฉ   โ    โ
โ  โ            โ  โ            โ    โ
โ  โ  ๐บ๏ธ ๐    โ  โ  ๐งญ ๐    โ    โ
โ  โ            โ  โ            โ    โ
โ  โ [ุงุณุชูุดู]  โ  โ [ุฑุญูุงุชู]  โ    โ
โ  โโโโโโโโโโโโโโ  โโโโโโโโโโโโโโ    โ
โ                                      โ
โ  ๐ ูููุน ุฏููู  โฑ๏ธ ุชุญุฏูุซ ููุฑู      โ
โ  ๐ ุงููุณุงูุฉ    ๐ ุฅุดุนุงุฑุงุช          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ป ุงูููุฏ ุงูุฑุฆูุณู

### ุงุณุชุฎุฏุงู ุฎุฏูุฉ ุชุชุจุน ุงููููุน:

```typescript
import { locationTrackingService } from '@/services/locationTracking';

// ุจุฏุก ุงูุชุชุจุน
await locationTrackingService.startTracking(
  userId,
  (location) => {
    console.log('ุงููููุน ุงูุฌุฏูุฏ:', location);
    // ุชุญุฏูุซ ุงูุฎุฑูุทุฉ
  }
);

// ุงูุญุตูู ุนูู ุงููููุน ุงูุญุงูู
const location = await locationTrackingService.getCurrentLocation();

// ุฅููุงู ุงูุชุชุจุน
locationTrackingService.stopTracking();

// ุญุณุงุจ ุงููุณุงูุฉ
const distance = locationTrackingService.calculateDistance(
  lat1, lng1, lat2, lng2
);
```

### ุงุณุชุฎุฏุงู ุฃุฒุฑุงุฑ ุงูุชุชุจุน:

```typescript
import { TrackingButton, ViewAllDriversButton } from '@/components/tracking/TrackingButton';

// ุฒุฑ ุชุชุจุน ุฑุญูุฉ
<TrackingButton bookingId="123" />

// ุฒุฑ ุฎุฑูุทุฉ ุงูุณุงุฆููู
<ViewAllDriversButton />
```

---

## ๐ง ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ

### ุชุฎุตูุต ุฃููููุงุช ุงูุฎุฑูุทุฉ:

ูู `src/config/maps.ts`:

```typescript
export const MARKER_ICONS = {
  driver: { /* ุฃููููุฉ ุงูุณุงุฆู */ },
  passenger: { /* ุฃููููุฉ ุงูุฑุงูุจ */ },
  pickup: { /* ุฃููููุฉ ููุทุฉ ุงูุงูุชูุงุท */ },
  destination: { /* ุฃููููุฉ ุงููุฌูุฉ */ },
};
```

### ุชุบููุฑ ุฃููุงู ุงููุณุงุฑ:

```typescript
export const ROUTE_COLORS = {
  active: '#10b981',      // ุฃุฎุถุฑ
  completed: '#6b7280',   // ุฑูุงุฏู
  cancelled: '#ef4444',   // ุฃุญูุฑ
};
```

### ุชุบููุฑ ูุณุชูู ุงูุชูุฑูุจ ุงูุงูุชุฑุงุถู:

```typescript
export const MAP_ZOOM = {
  country: 6,
  city: 12,
  street: 15,
  building: 18,
};
```

---

## ๐ ุงูุจูุงูุงุช ุงููุฎุฒูุฉ

### ูููู ุจูุงูุงุช ุงููููุน:

```typescript
{
  userId: string,
  latitude: number,
  longitude: number,
  accuracy: number,
  timestamp: Date,
  speed: number | undefined,
  heading: number | undefined
}
```

**ุงูุชุฎุฒูู:**
- ูุญููุงู: ูู `localStorage` ุชุญุช `demo_database.locations`
- Supabase: ูู ุฌุฏูู `locations` (ุฅุฐุง ุชู ุฅูุดุงุคู)

---

## ๐ฏ ุงูููุฒุงุช ุงููุชูุฏูุฉ

### 1. ุชุญุฏูุซ ุชููุงุฆู ูู 30 ุซุงููุฉ
```typescript
// ูู TripTracking.tsx
useEffect(() => {
  const interval = setInterval(() => {
    loadNotifications();
  }, 30000);
  return () => clearInterval(interval);
}, []);
```

### 2. ุชุชุจุน GPS ุนุงูู ุงูุฏูุฉ
```typescript
const options: PositionOptions = {
  enableHighAccuracy: true,  // ุฏูุฉ ุนุงููุฉ
  timeout: 5000,             // 5 ุซูุงูู timeout
  maximumAge: 0,             // ุจูุงูุงุช ุฌุฏูุฏุฉ ุฏุงุฆูุงู
};
```

### 3. ุญุณุงุจ ุงููุณุงุฑ ุจุงุณุชุฎุฏุงู Google Directions API
```typescript
const directionsService = new google.maps.DirectionsService();
directionsService.route({
  origin: driverLocation,
  destination: destinationLocation,
  travelMode: google.maps.TravelMode.DRIVING,
}, callback);
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### 1. ุงูุฎุฑูุทุฉ ูุง ุชุธูุฑ
**ุงูุญู:**
- ุชุฃูุฏ ูู ุตุญุฉ API Key
- ุชุญูู ูู Console ููุฃุฎุทุงุก
- ุชุฃูุฏ ูู ุชุญููู ููุชุจุฉ Google Maps

### 2. ุงููููุน ูุง ูุชุญุฏุซ
**ุงูุญู:**
- ุชุฃูุฏ ูู ุชูุนูู GPS ุนูู ุงูุฌูุงุฒ
- ุงููุญ ุงูุตูุงุญูุงุช ูููุชุตูุญ
- ุชุญูู ูู `navigator.geolocation`

### 3. ุงููุณุงูุฉ ุบูุฑ ุตุญูุญุฉ
**ุงูุญู:**
- ุชุญูู ูู ุตุญุฉ ุงูุฅุญุฏุงุซูุงุช
- ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู Haversine formula
- ุฑุงุฌุน ูุญุฏุงุช ุงูููุงุณ (km vs miles)

---

## ๐ฑ ุงูุชูุงูู ูุน ุงูุฃุฌูุฒุฉ

| ุงูุฌูุงุฒ | ูุชุตูุญ | ุงูุฏุนู |
|--------|-------|-------|
| ๐ป Desktop | Chrome | โ ููุชุงุฒ |
| ๐ป Desktop | Firefox | โ ููุชุงุฒ |
| ๐ป Desktop | Edge | โ ููุชุงุฒ |
| ๐ฑ Mobile | Chrome | โ ููุชุงุฒ |
| ๐ฑ Mobile | Safari | โ ุฌูุฏ |
| ๐ iOS | Safari | โ๏ธ ูุชุทูุจ HTTPS |

---

## ๐ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### 1. ุชุฎุฒูู ุงููููุน
- โ ูุดูุฑ ูู LocalStorage
- โ ููุญูุธ ููุท ุขุฎุฑ 100 ูููุน
- โ ูููุณุญ ุนูุฏ ุชุณุฌูู ุงูุฎุฑูุฌ

### 2. ูุดุงุฑูุฉ ุงููููุน
- โ ููุท ุฎูุงู ุงูุฑุญูุงุช ุงููุดุทุฉ
- โ ูุชููู ุชููุงุฆูุงู ุนูุฏ ุงูุงูุชูุงุก
- โ ูุญุชุงุฌ ููุงููุฉ ุงููุณุชุฎุฏู

### 3. API Key
- โ๏ธ ูุญูู ุจูููุฏ ุงููุทุงู
- โ๏ธ ูุฌุจ ุชูุนูู ูููุฏ IP
- โ๏ธ ูุฑุงูุจุฉ ุงูุงุณุชุฎุฏุงู ุงููููู

---

## ๐ ุงูุชุทููุฑุงุช ุงููุณุชูุจููุฉ

### ูุฎุทุท ูู:
- [ ] ุฅุถุงูุฉ ุชุชุจุน ูุชุนุฏุฏ ุงูุฑูุงุจ
- [ ] ููุงุท ุชููู ูุชุนุฏุฏุฉ
- [ ] ุญุณุงุจ ุฃูุถู ูุณุงุฑ
- [ ] ุชูุฏูุฑุงุช ุงููุตูู ุงูุฐููุฉ
- [ ] ุฅุดุนุงุฑุงุช ุงูุงูุชุฑุงุจ ูู ุงููุฌูุฉ
- [ ] ุญูุธ ุณุฌู ุงููุณุงุฑุงุช

### ุงุฎุชูุงุฑู:
- [ ] ูุถุน offline
- [ ] ุฎุฑุงุฆุท ุจุฏููุฉ (OpenStreetMap)
- [ ] ุชุญูููุงุช ุงูุฑุญูุงุช
- [ ] ูุดุงุฑูุฉ ุงููููุน ุงููุจุงุดุฑ

---

## ๐ ุงููุฑุงุฌุน ูุงูููุงุฑุฏ

### Google Maps API:
- [Documentation](https://developers.google.com/maps/documentation)
- [React Google Maps](https://react-google-maps-api-docs.netlify.app/)

### Geolocation API:
- [MDN Docs](https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API)

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

- [x] ุชุซุจูุช ููุชุจุงุช Google Maps
- [x] ุฅูุดุงุก ููู ุงูุชูููู
- [x] ุจูุงุก ุฎุฏูุฉ ุชุชุจุน ุงููููุน
- [x] ุฅูุดุงุก ุตูุญุฉ ุชุชุจุน ุงูุฑุญูุฉ
- [x] ุฅูุดุงุก ุตูุญุฉ ุฎุฑูุทุฉ ุงูุณุงุฆููู
- [x] ุฅุถุงูุฉ ุงููุณุงุฑุงุช ุฅูู App.tsx
- [x] ุฅูุดุงุก ุฃุฒุฑุงุฑ ุงูุชุชุจุน
- [x] ุฅุถุงูุฉ ูุณู ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- [x] ุชุญุฏูุซ useDatabase hook
- [ ] ุงุฎุชุจุงุฑ ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ
- [ ] ูุดุฑ ุนูู Fly.io

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 27 ุฃูุชูุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุฎุชุจุงุฑ ุงููุญูู

---

## ๐ ููุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู Console
2. ุฑุงุฌุน ูุฐุง ุงูุฏููู
3. ุชุญูู ูู ุตูุงุญูุงุช ุงููููุน
4. ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ

**ููุงุญุธุฉ:** ูุง ุชุฑูุน ุงูุชุญุฏูุซุงุช ุญุชู ุชุชุฃูุฏ ูู ุนูู ูู ุดูุก ูุญููุงู! ๐


