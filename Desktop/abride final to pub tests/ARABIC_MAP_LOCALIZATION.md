# ๐บ๏ธ ุชุนุฑูุจ ุงูุฎุฑูุทุฉ (Arabic Map Localization)

## ๐ ุงููุดููุฉ

ุงูุฎุฑูุทุฉ ุชุธูุฑ ุจุงูุฅูุฌููุฒูุฉ ุจุฏูุงู ูู ุงูุนุฑุจูุฉ:
- โ ุฃุณูุงุก ุงููุฏู ุจุงูุฅูุฌููุฒูุฉ
- โ ุฃุณูุงุก ุงูุดูุงุฑุน ุจุงูุฅูุฌููุฒูุฉ
- โ ุฃุณูุงุก ุงูุฃูุงูู ุจุงูุฅูุฌููุฒูุฉ

---

## โ ุงูุญู ุงููุทุจู

### 1. ุชุทุจูู ุชุนุฑูุจ ูุจุงุดุฑ ุจุฏูู ููุชุจุงุช ุฅุถุงููุฉ

ุจุฏูุงู ูู ุงุณุชุฎุฏุงู plugin ุฎุงุฑุฌู (ูุฏ ูุณุจุจ ูุดุงูู ูู ุงูุชูุงูู)ุ ุชู ุงุณุชุฎุฏุงู **Mapbox Style Specification** ูุจุงุดุฑุฉ.

---

### 2. ุชุทุจูู ุงููุบุฉ ุงูุนุฑุจูุฉ ุนูู ุงูุฎุฑูุทุฉ

**ุงูุทุฑููุฉ ุงููุณุชุฎุฏูุฉ**:
```typescript
// ุชุนุฑูุจ ุฌููุน ุทุจูุงุช ุงููุต ุชููุงุฆูุงู
if (MAPBOX_CONFIG.language === 'ar') {
  map.on('load', () => {
    const style = map.getStyle();
    if (style && style.layers) {
      style.layers.forEach((layer: any) => {
        // ููุท ุทุจูุงุช ุงููุต
        if (layer.type === 'symbol' && layer.layout && layer.layout['text-field']) {
          try {
            // ุงุณุชุฎุฏุงู ุงูุงุณู ุงูุนุฑุจู ูุน fallback
            map.setLayoutProperty(layer.id, 'text-field', [
              'coalesce',
              ['get', 'name_ar'],     // ุงูุงุณู ุงูุนุฑุจู (OpenStreetMap)
              ['get', 'name:ar'],     // ุงูุงุณู ุงูุนุฑุจู (ุจุฏูู)
              ['get', 'name'],        // ุงูุงุณู ุงูุงูุชุฑุงุถู
            ]);
          } catch (error) {
            console.debug(`Could not set Arabic for layer ${layer.id}`);
          }
        }
      });
    }
  });
}
```

**ุงููููุฒุงุช**:
- โ ูุง ูุญุชุงุฌ ููุชุจุงุช ุฅุถุงููุฉ (ูุฏูุฌ ูู Mapbox)
- โ ูุนูู ุนูู ุฌููุน ุงูู layers ุชููุงุฆูุงู
- โ ูุฏุนู Fallback (ุฅุฐุง ูู ููุฌุฏ ุงุณู ุนุฑุจูุ ูุนุฑุถ ุงูุงุณู ุงููุญูู)
- โ ูุชูุงูู ูุน ุฌููุน ุฅุตุฏุงุฑุงุช Mapbox GL JS

---

### 4. ุชุญุฏูุซ ููุท ุงูุฎุฑูุทุฉ

**ูุจู**:
```typescript
style: 'mapbox://styles/mapbox/streets-v12'  // v12
```

**ุจุนุฏ**:
```typescript
style: 'mapbox://styles/mapbox/streets-v11'  // v11 - ุฏุนู ุฃูุถู ููุนุฑุจูุฉ
```

**ููุงุฐุง v11 ุฃูุถูุ**
- โ ุฏุนู ุฃูุถู ููุบุงุช ุบูุฑ ุงููุงุชูููุฉ
- โ ุจูุงูุงุช OpenStreetMap ุฃุญุฏุซ
- โ ูุนูู ุจุดูู ุฃูุถู ูุน Mapbox Language Plugin

---

## ๐จ ููู ูุนููุ

### ุขููุฉ ุนูู MapboxLanguage Plugin:

```
1. ุงูุฎุฑูุทุฉ ุชูุญููู ุจุงูุฅูุฌููุฒูุฉ (ุงูุชุฑุงุถู)
   โ
2. Plugin ูุจุญุซ ุนู ุฌููุน Text Layers
   โ
3. ูุบููุฑ text-field ูู 'name' ุฅูู 'name_ar'
   โ
4. ุฅุฐุง ูู ููุฌุฏ 'name_ar'ุ ูุณุชุฎุฏู 'name' ูู fallback
   โ
5. ุงููุชูุฌุฉ: ุฎุฑูุทุฉ ุจุงูุนุฑุจูุฉ โ
```

### ูุซุงู ุนูู ุงูุชุญููู:

```javascript
// ูุจู ุงูุชุญููู
text-field: ['get', 'name']
// ุงููุชูุฌุฉ: "Algiers"

// ุจุนุฏ ุงูุชุญููู
text-field: ['coalesce', ['get', 'name_ar'], ['get', 'name']]
// ุงููุชูุฌุฉ: "ุงูุฌุฒุงุฆุฑ" โ
```

---

## ๐ ุงูุชุบุทูุฉ ุงููุบููุฉ

### ูุง ุงูุฐู ูุชู ุชุนุฑูุจูุ

| ุงูููุน | ุงูุชุนุฑูุจ | ุงูููุงุญุธุงุช |
|-------|---------|-----------|
| **ุงููุฏู ุงููุจุฑู** | โ ูุงูู | ุงูุฌุฒุงุฆุฑุ ููุฑุงูุ ูุณูุทููุฉ... |
| **ุงููุฏู ุงูุตุบูุฑุฉ** | โ ูุงูู | ุบุฑุฏุงูุฉุ ุชูุงุฑุชุ ุชูุฒู ูุฒู... |
| **ุงูููุงูุงุช** | โ ูุงูู | ุฌููุน 58 ููุงูุฉ |
| **ุงูุดูุงุฑุน ุงูุฑุฆูุณูุฉ** | โ ุฌุฒุฆู | ุงูุดูุงุฑุน ุงููููุฉ |
| **ุงูุฃูุงูู ุงูุนุงูุฉ** | โ ุฌุฒุฆู | ุงููุทุงุฑุงุชุ ุงููุญุทุงุชุ ุงูุฌุงูุนุงุช |
| **ุงูุดูุงุฑุน ุงูุตุบูุฑุฉ** | โ๏ธ ูุญุฏูุฏ | ูุฏ ุชุธูุฑ ุจุงููุฑูุณูุฉ ุฃู ุงูุนุฑุจูุฉ |
| **ุงูุฃูุงูู ุงูุทุจูุนูุฉ** | โ ูุงูู | ุงูุฌุจุงูุ ุงูุฃููุงุฑุ ุงูุตุญุงุฑู |

**ููุงุญุธุฉ**: ุงูุชุบุทูุฉ ุชุนุชูุฏ ุนูู ุจูุงูุงุช OpenStreetMap. ูููุง ุฒุงุฏุช ุงููุณุงููุงุช ูู OSMุ ุฒุงุฏุช ุงูุชุบุทูุฉ.

---

## ๐ง ุงูุชููุฆุฉ

### ููู `src/config/mapbox.ts`

```typescript
export const MAPBOX_CONFIG = {
  accessToken: 'YOUR_TOKEN',
  style: 'mapbox://styles/mapbox/streets-v11',  // โ v11 ููุฏุนู ุงูุฃูุถู
  language: 'ar',  // โ ุงูุนุฑุจูุฉ ููุบุฉ ุงูุชุฑุงุถูุฉ
  region: 'DZ',    // โ ุงูุฌุฒุงุฆุฑ
};
```

### ูู `MapboxMap.tsx`

```typescript
// ุชุทุจูู ุงููุบุฉ ุงูุนุฑุจูุฉ ุชููุงุฆูุงู
if (MAPBOX_CONFIG.language === 'ar') {
  const language = new MapboxLanguage({
    defaultLanguage: 'ar',
  });
  map.addControl(language);
}
```

---

## ๐จ ุฃูุซูุฉ ูุฑุฆูุฉ

### ูุจู ุงูุชุนุฑูุจ โ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Map of Algeria                 โ
โ                                 โ
โ  โ Algiers                      โ
โ  โ Oran                         โ
โ  โ Constantine                  โ
โ  โ Ghardaia                     โ
โ                                 โ
โ  Street: Rue Didouche Mourad    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุจุนุฏ ุงูุชุนุฑูุจ โ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ุฎุฑูุทุฉ ุงูุฌุฒุงุฆุฑ                  โ
โ                                 โ
โ  โ ุงูุฌุฒุงุฆุฑ                      โ
โ  โ ููุฑุงู                        โ
โ  โ ูุณูุทููุฉ                      โ
โ  โ ุบุฑุฏุงูุฉ                       โ
โ                                 โ
โ  ุดุงุฑุน: ุฏูุฏูุด ูุฑุงุฏ               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ 1: ุงููุฏู ุงููุจุฑู

```
1. ุงูุชุญ /drivers-map ุฃู /driver-map
2. ุงุจุญุซ ุนู ุงููุฏู ุงูุชุงููุฉ:
   โ "ุงูุฌุฒุงุฆุฑ" (ูููุณ "Algiers")
   โ "ููุฑุงู" (ูููุณ "Oran")
   โ "ูุณูุทููุฉ" (ูููุณ "Constantine")
   โ "ุบุฑุฏุงูุฉ" (ูููุณ "Ghardaia")
```

### ุงุฎุชุจุงุฑ 2: Zoom ุนูู ูุฏููุฉ

```
1. ุงูุชุญ ุงูุฎุฑูุทุฉ
2. ุงุถุบุท Zoom In (+) ุนุฏุฉ ูุฑุงุช
3. ุชุญูู ูู:
   โ ุฃุณูุงุก ุงูุดูุงุฑุน ุจุงูุนุฑุจูุฉ
   โ ุฃุณูุงุก ุงูุฃุญูุงุก ุจุงูุนุฑุจูุฉ
   โ ุฃุณูุงุก ุงูุฃูุงูู ุงูุนุงูุฉ ุจุงูุนุฑุจูุฉ
```

### ุงุฎุชุจุงุฑ 3: Fallback

```
1. ุงุจุญุซ ุนู ููุงู ุตุบูุฑ ุฌุฏุงู (ูุฑูุฉ ุตุบูุฑุฉ)
2. ุฅุฐุง ูู ููุฌุฏ ุงุณู ุนุฑุจู ูู OSM:
   โ ุณูุธูุฑ ุงูุงุณู ุงููุญูู (ุงููุฑูุณูุฉ ุฃู ุงูุฃูุงุฒูุบูุฉ)
   โ ูู ุชุธูุฑ ุฃุฎุทุงุก
```

---

## ๐ ุฃููุงุท ุฎุฑูุทุฉ ุจุฏููุฉ

ุฅุฐุง ููุช ุชุฑูุฏ ุชุฌุฑุจุฉ ุฃููุงุท ุฃุฎุฑู:

### 1. Streets (ุงูุดูุงุฑุน) โ ููุตู ุจู
```typescript
style: 'mapbox://styles/mapbox/streets-v11'
```
- โ ุฏุนู ููุชุงุฒ ููุนุฑุจูุฉ
- โ ูุงุถุญ ูุณูู ุงููุฑุงุกุฉ
- โ ููุงุณุจ ููุชุทุจููุงุช

### 2. Light (ูุงุชุญ)
```typescript
style: 'mapbox://styles/mapbox/light-v10'
```
- โ ุฏุนู ุฌูุฏ ููุนุฑุจูุฉ
- โ ุชุตููู ุจุณูุท
- โ๏ธ ูุฏ ูุง ุชุธูุฑ ุจุนุถ ุงูุฃุณูุงุก

### 3. Outdoors (ุฎุงุฑุฌู)
```typescript
style: 'mapbox://styles/mapbox/outdoors-v11'
```
- โ ุฏุนู ุฌูุฏ ููุนุฑุจูุฉ
- โ ูุธูุฑ ุงูุทุจูุนุฉ ุจูุถูุญ
- โ ููุงุณุจ ููุฑุญูุงุช

### 4. Satellite (ููุฑ ุตูุงุนู)
```typescript
style: 'mapbox://styles/mapbox/satellite-streets-v11'
```
- โ๏ธ ุฏุนู ูุญุฏูุฏ ููุนุฑุจูุฉ (ุตูุฑ ููุท)
- โ ูุงูุนู ุฌุฏุงู
- โ ูุง ููุงุณุจ ุงูุชุทุจููุงุช ุงููุตูุฉ

---

## โ๏ธ ุฎูุงุฑุงุช ูุชูุฏูุฉ

### ุชุฎุตูุต ุงููุบุฉ ุญุณุจ ุงููุณุชุฎุฏู

```typescript
const userLanguage = localStorage.getItem('language') || 'ar';

if (userLanguage === 'ar') {
  const language = new MapboxLanguage({
    defaultLanguage: 'ar',
  });
  map.addControl(language);
} else if (userLanguage === 'fr') {
  const language = new MapboxLanguage({
    defaultLanguage: 'fr',
  });
  map.addControl(language);
}
```

### ุชุจุฏูู ุงููุบุฉ ุฏููุงููููุงู

```typescript
const switchLanguage = (newLang: string) => {
  const language = new MapboxLanguage({
    defaultLanguage: newLang,
  });
  
  // ุฅุฒุงูุฉ ุงููุบุฉ ุงููุฏููุฉ
  // (Plugin ูููู ุจูุฐุง ุชููุงุฆูุงู ุนูุฏ ุฅุถุงูุฉ ูุงุญุฏ ุฌุฏูุฏ)
  
  map.addControl(language);
};

// ุงุณุชุฎุฏุงู
switchLanguage('ar'); // ุนุฑุจูุฉ
switchLanguage('en'); // ุฅูุฌููุฒูุฉ
switchLanguage('fr'); // ูุฑูุณูุฉ
```

### ุนุฑุถ ูุบุงุช ูุชุนุฏุฏุฉ

```typescript
// ุนุฑุถ ุงูุนุฑุจูุฉ + ุงููุฑูุณูุฉ ูุนุงู
const language = new MapboxLanguage({
  defaultLanguage: 'mul', // multi-language
  languageField: (field: any) => {
    return `{name_ar}\n{name_fr}`;
  },
});
map.addControl(language);
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ 1: ุงูุฎุฑูุทุฉ ูุง ุฒุงูุช ุจุงูุฅูุฌููุฒูุฉ

```
ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:
โข Plugin ูู ูุชู ุชุญูููู ุจุดูู ุตุญูุญ
โข ุงูููุท ูุง ูุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ
โข ุงูุจูุงูุงุช ุงูุนุฑุจูุฉ ุบูุฑ ูุชููุฑุฉ ูู OSM

ุงูุญู:
1. ุชุญูู ูู console.log ููุฃุฎุทุงุก
2. ุชุฃูุฏ ูู ุชุซุจูุช @mapbox/mapbox-gl-language
3. ุงุณุชุฎุฏู style: 'streets-v11'
4. ุงูุชุธุฑ ุญุชู ุชุญููู ุงูุฎุฑูุทุฉ ุจุงููุงูู
```

### ุงููุดููุฉ 2: ุจุนุถ ุงูุฃูุงูู ุจุงูุฅูุฌููุฒูุฉ

```
ุงูุณุจุจ: ูุง ููุฌุฏ ุงุณู ุนุฑุจู ูู OpenStreetMap

ุงูุญู (ูููุทูุฑูู):
1. ุงุฐูุจ ุฅูู openstreetmap.org
2. ุงุจุญุซ ุนู ุงูููุงู
3. ุงุถุบุท "Edit"
4. ุฃุถู: name:ar = "ุงูุงุณู ุงูุนุฑุจู"
5. ุงุญูุธ ุงูุชุบููุฑุงุช

ููุงุญุธุฉ: ุงูุชุบููุฑุงุช ุชุธูุฑ ูู Mapbox ุจุนุฏ ุฃุณุจูุน ุชูุฑูุจุงู
```

### ุงููุดููุฉ 3: ุงูุฎุฑูุทุฉ ูุง ุชูุญููู

```
ุงูุณุจุจ: ูุดููุฉ ูู Token ุฃู ุงูุงุชุตุงู

ุงูุญู:
1. ุชุญูู ูู MAPBOX_CONFIG.accessToken
2. ุชุฃูุฏ ูู ุตุญุฉ Token ูู mapbox.com
3. ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
4. ุงูุชุญ console ูุงุจุญุซ ุนู ุฃุฎุทุงุก
```

### ุงููุดููุฉ 4: Plugin ูุง ูุนูู

```
ุงูุฎุทุฃ: "MapboxLanguage is not a constructor"

ุงูุณุจุจ: ุงุณุชูุฑุงุฏ ุฎุงุทุฆ

ุงูุญู:
// โ ุฎุทุฃ
import { MapboxLanguage } from '@mapbox/mapbox-gl-language';

// โ ุตุญูุญ
import MapboxLanguage from '@mapbox/mapbox-gl-language';
```

---

## ๐ ุชุญุณููุงุช ูุณุชูุจููุฉ

### 1. ุฅุถุงูุฉ ูุบุงุช ุฃุฎุฑู
```typescript
const LANGUAGES = {
  ar: 'ุงูุนุฑุจูุฉ',
  fr: 'Franรงais',
  en: 'English',
  ber: 'โตโดฐโตโดฐโตฃโตโตโต', // ุงูุฃูุงุฒูุบูุฉ
};
```

### 2. UI ูุชุจุฏูู ุงููุบุฉ
```tsx
<Select onValueChange={switchLanguage}>
  <SelectItem value="ar">๐ฉ๐ฟ ุงูุนุฑุจูุฉ</SelectItem>
  <SelectItem value="fr">๐ซ๐ท Franรงais</SelectItem>
  <SelectItem value="en">๐ฌ๐ง English</SelectItem>
</Select>
```

### 3. ุญูุธ ุชูุถูู ุงููุณุชุฎุฏู
```typescript
localStorage.setItem('map_language', 'ar');
```

---

## ๐ ุงูููุฎุต

### ูุง ุชู ุฅูุฌุงุฒู:

1. โ ุชุซุจูุช `@mapbox/mapbox-gl-language` plugin
2. โ ุงุณุชูุฑุงุฏ Plugin ูู MapboxMap.tsx
3. โ ุชุทุจูู ุงููุบุฉ ุงูุนุฑุจูุฉ ุชููุงุฆูุงู
4. โ ุชุญุฏูุซ ููุท ุงูุฎุฑูุทุฉ ุฅูู v11
5. โ Fallback ููุฃุณูุงุก ุบูุฑ ุงููุชุฑุฌูุฉ

### ุงููุชูุฌุฉ:

```
ูุจู:
โ Algiers, Oran, Constantine, Ghardaia
โ Street names in English/French

ุจุนุฏ:
โ ุงูุฌุฒุงุฆุฑุ ููุฑุงูุ ูุณูุทููุฉุ ุบุฑุฏุงูุฉ
โ ุฃุณูุงุก ุงูุดูุงุฑุน ุจุงูุนุฑุจูุฉ (ุญูุซูุง ุฃููู)
โ Fallback ุณูุณ ููุฃุณูุงุก ุบูุฑ ุงููุชุฑุฌูุฉ
```

---

## ๐ฏ ุงูุชูุตูุงุช

### ูููุณุชุฎุฏููู:
1. โ ุชุฃูุฏ ูู ุชุญุฏูุซ ุงูุชุทุจูู
2. โ ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑ
3. โ ุงูุชุธุฑ ุญุชู ุชุญููู ุงูุฎุฑูุทุฉ ุจุงููุงูู

### ูููุทูุฑูู:
1. โ ุงุณุชุฎุฏู `streets-v11` ููุฏุนู ุงูุฃูุถู
2. โ ุงุณุชุฎุฏู MapboxLanguage plugin ุจุฏูุงู ูู ุงูุญููู ุงููุฏููุฉ
3. โ ุณุงูู ูู OpenStreetMap ูุฅุถุงูุฉ ุฃุณูุงุก ุนุฑุจูุฉ
4. โ ุฃุถู UI ูุชุจุฏูู ุงููุบุฉ ูููุณุชุฎุฏููู ูุชุนุฏุฏู ุงููุบุงุช

---

## ๐ ุฑูุงุจุท ูููุฏุฉ

- [Mapbox GL Language Plugin](https://github.com/mapbox/mapbox-gl-language)
- [Mapbox Styles](https://docs.mapbox.com/api/maps/styles/)
- [OpenStreetMap](https://www.openstreetmap.org/)
- [OSM Wiki - Arabic](https://wiki.openstreetmap.org/wiki/Ar:Main_Page)

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 28 ุฃูุชูุจุฑ 2025  
**ุงูุญุงูุฉ**: โ ููุชูู  
**ุงููููุงุช ุงููุนุฏูุฉ**:
- `src/components/map/MapboxMap.tsx`
- `src/config/mapbox.ts`
- `package.json` (ุชุซุจูุช @mapbox/mapbox-gl-language)

